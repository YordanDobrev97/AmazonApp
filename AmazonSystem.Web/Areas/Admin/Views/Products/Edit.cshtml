@using AmazonSystem.Products.ViewModels

@model ProductEditViewModel 
@{
    ViewData["Title"] = "Edit Product";
    var price = Model.Price.ToString().Replace(",", ".");

    var categories = Model.Categories.Where(x => x != Model.Category)
                     .Select(x => new SelectListItem(x.ToString(), x.ToString()));

}

<div class="container" style=" margin-top: 80px;">
    <section class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Edit Product</h3>
        </div>
        <div class="panel-body">
            <form asp-area="Admin" asp-controller="Products" asp-action="Edit" method="POST" class="form-horizontal" role="form">
                <input hidden name="id" value="@Model.Id"/>

                <div class="form-group">
                    <label for="name" class="col-sm-3 control-label">Image URL</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" name="imageUrl" id="imageUrl" value="@Model.ImageUrl">
                    </div>
                </div>
                <div class="form-group">
                    <label for="name" class="col-sm-3 control-label">Name</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" name="name" id="name" value="@Model.Name">
                    </div>
                </div>
                <div class="form-group">
                    <label for="about" class="col-sm-3 control-label">Description</label>
                    <div class="col-sm-9">
                        <textarea name="description" class="form-control">@Model.Description</textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label for="qty" class="col-sm-3 control-label">Quantity</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" name="quantity" id="qty" placeholder="Quantity">
                    </div>
                </div>

                <div class="form-group">
                    <label for="qty" class="col-sm-3 control-label">Price</label>

                    <div class="col-sm-3">
                        <input type="text" class="form-control text-dark" name="price" value="@price" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="tech" class="col-sm-3 control-label">Category</label>
                    <div class="col-sm-3">
                        <select name="category" class="form-control" asp-items="@categories">
                            <option value="@Model.Category">@Model.Category</option>
                        </select>
                    </div>
                </div>
                <hr>
                <div class="form-group">
                    <div class="col-sm-offset-3 col-sm-9">
                        <button type="submit" class="btn btn-success">Save</button>
                    </div>
                </div>
            </form>
        </div>
    </section>
</div>